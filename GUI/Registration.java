/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package GUI;

import static Code.EmailValidation.validateEmail;
import static Code.FullNameValidation.validateFullName;
import static Code.MobileNumberValidation.isInteger;
import static Code.PasswordValidation.validatePassword;
import static Code.StudentIDValidation.isValidStudentId;
import static Code.UsernameValidation.validateUsername;
import java.awt.Color;
import java.awt.HeadlessException;
import java.io.*;
import javax.swing.JOptionPane;

/**
 *
 * @author waiho
 */
public class Registration extends javax.swing.JFrame {

    /**
     * Creates new form Registration
     */
    public Registration() {
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        GenderButtonGroup = new javax.swing.ButtonGroup();
        RegistrationPanel = new javax.swing.JPanel();
        NaviBar = new javax.swing.JPanel();
        Logo = new javax.swing.JLabel();
        Wednesday = new javax.swing.JLabel();
        jSeparator1 = new javax.swing.JSeparator();
        jPanel2 = new javax.swing.JPanel();
        jLabel2 = new javax.swing.JLabel();
        Cancel = new javax.swing.JButton();
        FullName = new javax.swing.JLabel();
        FullName1 = new javax.swing.JLabel();
        FullName2 = new javax.swing.JLabel();
        FullName3 = new javax.swing.JLabel();
        FullName4 = new javax.swing.JLabel();
        FullName5 = new javax.swing.JLabel();
        FullName6 = new javax.swing.JLabel();
        FullName7 = new javax.swing.JLabel();
        FName = new javax.swing.JTextField();
        UName = new javax.swing.JTextField();
        Password = new javax.swing.JTextField();
        CPassword = new javax.swing.JTextField();
        EAddress = new javax.swing.JTextField();
        MNumber = new javax.swing.JTextField();
        Address1 = new javax.swing.JTextField();
        Country = new javax.swing.JComboBox<>();
        FullName8 = new javax.swing.JLabel();
        FullName9 = new javax.swing.JLabel();
        FullName10 = new javax.swing.JLabel();
        IC = new javax.swing.JTextField();
        MaleButton = new javax.swing.JRadioButton();
        FemaleButton = new javax.swing.JRadioButton();
        LoginButton1 = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setMinimumSize(new java.awt.Dimension(852, 550));

        RegistrationPanel.setBackground(new java.awt.Color(74, 31, 61));
        RegistrationPanel.setPreferredSize(new java.awt.Dimension(852, 550));
        RegistrationPanel.setLayout(null);

        NaviBar.setBackground(new java.awt.Color(74, 31, 61));
        NaviBar.setMinimumSize(new java.awt.Dimension(852, 80));

        Logo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Image/Logo.png"))); // NOI18N

        Wednesday.setBackground(new java.awt.Color(255, 255, 255));
        Wednesday.setFont(new java.awt.Font("Imprint MT Shadow", 0, 12)); // NOI18N
        Wednesday.setForeground(new java.awt.Color(255, 255, 255));
        Wednesday.setText("WEDNESDAY");

        javax.swing.GroupLayout NaviBarLayout = new javax.swing.GroupLayout(NaviBar);
        NaviBar.setLayout(NaviBarLayout);
        NaviBarLayout.setHorizontalGroup(
            NaviBarLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(NaviBarLayout.createSequentialGroup()
                .addGroup(NaviBarLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(NaviBarLayout.createSequentialGroup()
                        .addGap(24, 24, 24)
                        .addComponent(Wednesday))
                    .addGroup(NaviBarLayout.createSequentialGroup()
                        .addGap(32, 32, 32)
                        .addComponent(Logo, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(730, Short.MAX_VALUE))
        );
        NaviBarLayout.setVerticalGroup(
            NaviBarLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(NaviBarLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(Logo, javax.swing.GroupLayout.PREFERRED_SIZE, 67, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(Wednesday, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(9, 9, 9))
        );

        RegistrationPanel.add(NaviBar);
        NaviBar.setBounds(0, 0, 852, 100);
        RegistrationPanel.add(jSeparator1);
        jSeparator1.setBounds(0, 180, 850, 20);

        jPanel2.setBackground(new java.awt.Color(204, 204, 204));
        jPanel2.setMinimumSize(new java.awt.Dimension(852, 80));

        jLabel2.setFont(new java.awt.Font("Maiandra GD", 1, 24)); // NOI18N
        jLabel2.setForeground(new java.awt.Color(74, 31, 61));
        jLabel2.setText("Registration");

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(349, 349, 349)
                .addComponent(jLabel2)
                .addContainerGap(369, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(15, 15, 15)
                .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 51, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(14, Short.MAX_VALUE))
        );

        RegistrationPanel.add(jPanel2);
        jPanel2.setBounds(0, 100, 852, 80);

        Cancel.setText("Cancel");
        Cancel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                CancelActionPerformed(evt);
            }
        });
        RegistrationPanel.add(Cancel);
        Cancel.setBounds(460, 440, 110, 30);

        FullName.setBackground(new java.awt.Color(255, 255, 255));
        FullName.setForeground(new java.awt.Color(255, 255, 255));
        FullName.setText("Address :");
        RegistrationPanel.add(FullName);
        FullName.setBounds(520, 330, 60, 16);

        FullName1.setBackground(new java.awt.Color(255, 255, 255));
        FullName1.setForeground(new java.awt.Color(255, 255, 255));
        FullName1.setText("Full Name  ( As per NRIC ) : ");
        RegistrationPanel.add(FullName1);
        FullName1.setBounds(40, 210, 150, 16);

        FullName2.setBackground(new java.awt.Color(255, 255, 255));
        FullName2.setForeground(new java.awt.Color(255, 255, 255));
        FullName2.setText("Student ID:");
        RegistrationPanel.add(FullName2);
        FullName2.setBounds(40, 250, 70, 16);

        FullName3.setBackground(new java.awt.Color(255, 255, 255));
        FullName3.setForeground(new java.awt.Color(255, 255, 255));
        FullName3.setText("Password : ");
        RegistrationPanel.add(FullName3);
        FullName3.setBounds(40, 290, 70, 16);

        FullName4.setBackground(new java.awt.Color(255, 255, 255));
        FullName4.setForeground(new java.awt.Color(255, 255, 255));
        FullName4.setText("Confirm Password :");
        RegistrationPanel.add(FullName4);
        FullName4.setBounds(40, 330, 110, 16);

        FullName5.setBackground(new java.awt.Color(255, 255, 255));
        FullName5.setForeground(new java.awt.Color(255, 255, 255));
        FullName5.setText("Gender : ");
        RegistrationPanel.add(FullName5);
        FullName5.setBounds(520, 370, 50, 16);

        FullName6.setBackground(new java.awt.Color(255, 255, 255));
        FullName6.setForeground(new java.awt.Color(255, 255, 255));
        FullName6.setText("Mobile Number : ");
        RegistrationPanel.add(FullName6);
        FullName6.setBounds(520, 210, 110, 16);

        FullName7.setBackground(new java.awt.Color(255, 255, 255));
        FullName7.setForeground(new java.awt.Color(255, 255, 255));
        FullName7.setText("NRIC/Passport : ");
        RegistrationPanel.add(FullName7);
        FullName7.setBounds(520, 250, 110, 16);
        RegistrationPanel.add(FName);
        FName.setBounds(200, 210, 160, 22);
        RegistrationPanel.add(UName);
        UName.setBounds(120, 250, 160, 22);
        RegistrationPanel.add(Password);
        Password.setBounds(120, 290, 160, 22);
        RegistrationPanel.add(CPassword);
        CPassword.setBounds(160, 330, 160, 22);
        RegistrationPanel.add(EAddress);
        EAddress.setBounds(140, 370, 160, 22);
        RegistrationPanel.add(MNumber);
        MNumber.setBounds(630, 210, 160, 22);

        Address1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                Address1ActionPerformed(evt);
            }
        });
        RegistrationPanel.add(Address1);
        Address1.setBounds(580, 330, 210, 22);

        Country.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "-- Select --", "Afghanistan(+93)", "Albania(+355)", "Algeria(+213)", "Andorra(+376)", "Angola(+244)", "AntiguaandBarbuda(+1-268)", "Argentina(+54)", "Armenia(+374)", "Australia(+61)", "Austria(+43)", "Azerbaijan(+994)", "Bahamas(+1-242)", "Bahrain(+973)", "Bangladesh(+880)", "Barbados(+1-246)", "Belarus(+375)", "Belgium(+32)", "Belize(+501)", "Benin(+229)", "Bhutan(+975)", "Bolivia(+591)", "BosniaandHerzegovina(+387)", "Botswana(+267)", "Brazil(+55)", "Brunei(+673)", "Bulgaria(+359)", "BurkinaFaso(+226)", "Burundi(+257)", "CaboVerde(+238)", "Cambodia(+855)", "Cameroon(+237)", "Canada(+1)", "CentralAfricanRepublic(+236)", "Chad(+235)", "Chile(+56)", "China(+86)", "Colombia(+57)", "Comoros(+269)", "Congo(DemocraticRepublicofthe)(+243)", "Congo(Republicofthe)(+242)", "CostaRica(+506)", "Croatia(+385)", "Cuba(+53)", "Cyprus(+357)", "CzechRepublic(+420)", "Denmark(+45)", "Djibouti(+253)", "Dominica(+1-767)", "DominicanRepublic(+1-809,+1-829,+1-849)", "EastTimor(+670)", "Ecuador(+593)", "Egypt(+20)", "ElSalvador(+503)", "EquatorialGuinea(+240)", "Eritrea(+291)", "Estonia(+372)", "Eswatini(formerlySwaziland)(+268)", "Ethiopia(+251)", "Fiji(+679)", "Finland(+358)", "France(+33)", "Gabon(+241)", "Gambia(+220)", "Georgia(+995)", "Germany(+49)", "Ghana(+233)", "Greece(+30)", "Grenada(+1-473)", "Guatemala(+502)", "Guinea(+224)", "Guinea-Bissau(+245)", "Guyana(+592)", "Haiti(+509)", "Honduras(+504)", "Hungary(+36)", "Iceland(+354)", "India(+91)", "Indonesia(+62)", "Iran(+98)", "Iraq(+964)", "Ireland(+353)", "Israel(+972)", "Italy(+39)", "Jamaica(+1-876)", "Japan(+81)", "Jordan(+962)", "Kazakhstan(+7)", "Kenya(+254)", "Kiribati(+686)", "Korea(North)(+850)", "Korea(South)(+82)", "Kosovo(+383)", "Kuwait(+965)", "Kyrgyzstan(+996)", "Laos(+856)", "Latvia(+371)", "Lebanon(+961)", "Lesotho(+266)", "Liberia(+231)", "Libya(+218)", "Liechtenstein(+423)", "Lithuania(+370)", "Luxembourg(+352)", "Madagascar(+261)", "Malawi(+265)", "Malaysia(+60)", "Maldives(+960)", "Mali(+223)", "Malta(+356)", "MarshallIslands(+692)", "Mauritania(+222)", "Mauritius(+230)", "Mexico(+52)", "Micronesia(+691)", "Moldova(+373)", "Monaco(+377)", "Mongolia(+976)", "Montenegro(+382)", "Morocco(+212)", "Mozambique(+258)", "Myanmar(formerlyBurma)(+95)", "Namibia(+264)", "Nauru(+674)", "Nepal(+977)", "Netherlands(+31)", "NewZealand(+64)", "Nicaragua(+505)", "Niger(+227)", "Nigeria(+234)", "NorthMacedonia(formerlyMacedonia)(+389)", "Norway(+47)", "Oman(+968)", "Pakistan(+92)", "Palau(+680)", "Palestine(+970)", "Panama(+507)", "PapuaNewGuinea(+675)", "Paraguay(+595)", "Peru(+51)", "Philippines(+63)", "Poland(+48)", "Portugal(+351)", "Qatar(+974)", "Romania(+40)", "Russia(+7)", "Rwanda(+250)", "SaintKittsandNevis(+1-869)", "SaintLucia(+1-758)", "SaintVincentandtheGrenadines(+1-784)", "Samoa(+685)", "SanMarino(+378)", "SaoTomeandPrincipe(+239)", "SaudiArabia(+966)", "Senegal(+221)", "Serbia(+381)", "Seychelles(+248)", "SierraLeone(+232)", "Singapore(+65)", "Slovakia(+421)", "Slovenia(+386)", "SolomonIslands(+677)", "Somalia(+252)", "SouthAfrica(+27)", "SouthSudan(+211)", "Spain(+34)", "SriLanka(+94)", "Sudan(+249)", "Suriname(+597)", "Sweden(+46)", "Switzerland(+41)", "Syria(+963)", "Taiwan(+886)", "Tajikistan(+992)", "Tanzania(+255)", "Thailand(+66)", "Togo(+228)", "Tonga(+676)", "TrinidadandTobago(+1-868)", "Tunisia(+216)", "Turkey(+90)", "Turkmenistan(+993)", "Tuvalu(+688)", "Uganda(+256)", "Ukraine(+380)", "UnitedArabEmirates(UAE)(+971)", "UnitedKingdom(UK)(+44)", "UnitedStatesofAmerica(USA)(+1)", "Uruguay(+598)", "Uzbekistan(+998)", "Vanuatu(+678)", "VaticanCity(HolySee)(+379)", "Venezuela(+58)", "Vietnam(+84)", "Yemen(+967)", "Zambia(+260)", "Zimbabwe(+263)" }));
        Country.setPreferredSize(new java.awt.Dimension(150, 22));
        RegistrationPanel.add(Country);
        Country.setBounds(580, 290, 150, 22);

        FullName8.setBackground(new java.awt.Color(255, 255, 255));
        FullName8.setForeground(new java.awt.Color(255, 255, 255));
        FullName8.setText("Country :");
        RegistrationPanel.add(FullName8);
        FullName8.setBounds(520, 290, 110, 16);

        FullName9.setBackground(new java.awt.Color(255, 255, 255));
        FullName9.setForeground(new java.awt.Color(255, 255, 255));
        FullName9.setText("Email  Address : ");
        RegistrationPanel.add(FullName9);
        FullName9.setBounds(40, 370, 110, 16);

        FullName10.setBackground(new java.awt.Color(255, 255, 255));
        FullName10.setForeground(new java.awt.Color(74, 31, 61));
        FullName10.setText("Email  Address : ");
        RegistrationPanel.add(FullName10);
        FullName10.setBounds(40, 370, 110, 16);
        RegistrationPanel.add(IC);
        IC.setBounds(620, 250, 160, 22);

        GenderButtonGroup.add(MaleButton);
        MaleButton.setForeground(new java.awt.Color(255, 255, 255));
        MaleButton.setText("Male");
        MaleButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                MaleButtonActionPerformed(evt);
            }
        });
        RegistrationPanel.add(MaleButton);
        MaleButton.setBounds(590, 370, 49, 21);

        GenderButtonGroup.add(FemaleButton);
        FemaleButton.setForeground(new java.awt.Color(255, 255, 255));
        FemaleButton.setText("Female");
        FemaleButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                FemaleButtonActionPerformed(evt);
            }
        });
        RegistrationPanel.add(FemaleButton);
        FemaleButton.setBounds(650, 370, 98, 21);

        LoginButton1.setText("Register");
        LoginButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                LoginButton1ActionPerformed(evt);
            }
        });
        RegistrationPanel.add(LoginButton1);
        LoginButton1.setBounds(280, 440, 110, 30);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(RegistrationPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(RegistrationPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void CancelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_CancelActionPerformed
        // TODO add your handling code here:
        LoginPage lp = new LoginPage();
        lp.setVisible(true);
        dispose();
        
    }//GEN-LAST:event_CancelActionPerformed

    private void LoginButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_LoginButton1ActionPerformed
        // TODO add your handling code here:
        String fname = FName.getText();
        String uname = UName.getText();
        String password = Password.getText();
        String cpassword = CPassword.getText();
        String eaddress = EAddress.getText();
        String mnumber = MNumber.getText();
        String ic = IC.getText();
        String country = Country.getSelectedItem().toString();
        String address = Address1.getText();
        String gender = null;
        int done = 1;
        int add = 1;
        boolean FNameisValid = validateFullName(fname);
        boolean IDisValid = isValidStudentId(uname);
        boolean PWisValid = validatePassword(password);
        boolean EmailisValid = validateEmail(eaddress);
        boolean MnumberisValid = isInteger(mnumber);
        
        try{
            if(fname.equals("")){
                FName.setBackground(Color.pink);
                done = 0;
                add = 0;
            }else if(!FNameisValid ){
                JOptionPane.showMessageDialog(null, "Invalid Full Name format.");
                add = 0;
            }
            
            if(uname.equals("")){
                UName.setBackground(Color.pink);
                done = 0;
                add = 0;
            }else if(!IDisValid ){
                JOptionPane.showMessageDialog(null, "Invalid Student ID format.");
                add = 0;                
            }
            
            if(usernameexists(uname)){
                JOptionPane.showMessageDialog(null, "Student ID already exists.");
                add = 0;
            }
            
            if(password.equals("")){
                Password.setBackground(Color.pink);                
                done = 0;
                add = 0;
            }else if(!PWisValid){
                JOptionPane.showMessageDialog(null, """
                                                    Password requirements:
                                                    At least 8 characters long
                                                    Contains at least one uppercase letter
                                                    Contains at least one lowercase letter
                                                    Contains at least one digit
                                                    Contains at least one special character (">" is not allowed)""");
                add = 0;
                
            }
            
            if(cpassword.equals("")){
                CPassword.setBackground(Color.pink);
                done = 0;
                add = 0;
            }else if(!cpassword.equals(password)){
                JOptionPane.showMessageDialog(null, "Password does not match.");
                add = 0;
            }
            
            if(eaddress.equals("")){
                EAddress.setBackground(Color.pink);
                done = 0;
                add = 0;
            }else if(!EmailisValid){
                JOptionPane.showMessageDialog(null, "Wrong email address format, example: waihong222@gmail.com");
                add = 0;
            }
            
            if(mnumber.equals("")){
                MNumber.setBackground(Color.pink);
                done = 0;
                add = 0;
            }else if(!MnumberisValid){
                JOptionPane.showMessageDialog(null, "Wrong mobile number format.");
                add = 0;
            }
            
            if(ic.equals("")){
                IC.setBackground(Color.pink);
                done = 0;
                add = 0;
            }else if(icexists(ic)){
                JOptionPane.showMessageDialog(null, "NRIC/Passport already exists.");
                add=0;                
            }
            
            if(country.equals("--Select--")){
                Country.setBackground(Color.pink);
                done = 0;
                add = 0;
            }
            
            if(address.equals("")){
                Address1.setBackground(Color.pink);
                done = 0;
                add = 0;
            }
            
            if(!MaleButton.isSelected()&&!FemaleButton.isSelected()){
                done = 0;
                add = 0;
            }else if(MaleButton.isSelected()){
                gender = "Male";
                add = 1;
            }else if(FemaleButton.isSelected()){
                gender = "Female";
                add=1;
            }    
            
            if(done == 0){
                JOptionPane.showMessageDialog(null, "Required field found empty.");
            }else if(add == 1){
                try (BufferedWriter writer = new BufferedWriter(new FileWriter("StudentDetails.txt", true))){
                    writer.newLine();
                    writer.write(uname+">"+password+">"+fname+">"+mnumber+">"+ic+">"+country+">"+eaddress+">"+address+">"+gender);
                    writer.close();
                    JOptionPane.showMessageDialog(this, "Account created, proceed to login.");
                    LoginPage lp = new LoginPage();
                    lp.setVisible(true);
                    dispose();
                } catch (IOException e) {
                    JOptionPane.showMessageDialog(this, "Error" + e.getMessage());
                }
                    }    
            
            
                                          
        }catch(HeadlessException e){
            JOptionPane.showMessageDialog(null, "Error.");
        }
    }//GEN-LAST:event_LoginButton1ActionPerformed

    private void Address1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_Address1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_Address1ActionPerformed

    private void MaleButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_MaleButtonActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_MaleButtonActionPerformed

    private void FemaleButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_FemaleButtonActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_FemaleButtonActionPerformed

    /**
     * @param username
     * @param args the command line arguments
     * @return 
     */
    private boolean usernameexists(String username) {
        try (BufferedReader reader = new BufferedReader(new FileReader("StudentDetails.txt"))) {
            String line;
            while ((line = reader.readLine()) != null) {
                String[] parts = line.split(">");
                String storedUsername = parts[0];
                
                if (username.equals(storedUsername)) {
                    return true;
                }
            }
        } catch (IOException e) {
            JOptionPane.showMessageDialog(null, "Error");
        }return false;
    }
    
        private boolean icexists(String ic) {
        try (BufferedReader reader = new BufferedReader(new FileReader("StudentDetails.txt"))) {
            String line;
            while ((line = reader.readLine()) != null) {
                String[] parts = line.split(">");
                String storedUsername = parts[4];
                
                if (ic.equals(storedUsername)) {
                    return true;
                }
            }
        } catch (IOException e) {
            JOptionPane.showMessageDialog(null, "Error");
        }return false;
    }       
    
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Registration.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Registration.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Registration.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Registration.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Registration().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JTextField Address1;
    private javax.swing.JTextField CPassword;
    private javax.swing.JButton Cancel;
    private javax.swing.JComboBox<String> Country;
    private javax.swing.JTextField EAddress;
    private javax.swing.JTextField FName;
    private javax.swing.JRadioButton FemaleButton;
    private javax.swing.JLabel FullName;
    private javax.swing.JLabel FullName1;
    private javax.swing.JLabel FullName10;
    private javax.swing.JLabel FullName2;
    private javax.swing.JLabel FullName3;
    private javax.swing.JLabel FullName4;
    private javax.swing.JLabel FullName5;
    private javax.swing.JLabel FullName6;
    private javax.swing.JLabel FullName7;
    private javax.swing.JLabel FullName8;
    private javax.swing.JLabel FullName9;
    private javax.swing.ButtonGroup GenderButtonGroup;
    private javax.swing.JTextField IC;
    private javax.swing.JButton LoginButton1;
    private javax.swing.JLabel Logo;
    private javax.swing.JTextField MNumber;
    private javax.swing.JRadioButton MaleButton;
    private javax.swing.JPanel NaviBar;
    private javax.swing.JTextField Password;
    private javax.swing.JPanel RegistrationPanel;
    private javax.swing.JTextField UName;
    private javax.swing.JLabel Wednesday;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JSeparator jSeparator1;
    // End of variables declaration//GEN-END:variables
}
